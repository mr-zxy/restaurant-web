(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"214":function(e,t,n){var a=n(30),o=n(215);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={"insert":"head","singleton":!1};a(o,r);e.exports=o.locals||{}},"215":function(e,t,n){(t=n(31)(!1)).push([e.i,".commodityAdd .logo {\n  -webkit-align-items: inherit !important;\n      -ms-flex-align: inherit !important;\n          align-items: inherit !important;\n  margin-bottom: 0.42667rem;\n}\n.commodityAdd .footer {\n  background: transparent;\n  position: absolute;\n  bottom: 0;\n}\n.commodityAdd .form-order {\n  position: relative;\n}\n.commodityAdd .form-order i {\n  position: absolute;\n  top: 50%;\n  right: 1.06667rem;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.commodityAdd .open-style {\n  height: auto !important;\n}\n.commodityAdd .nut-radiogroup {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.commodityAdd .nut-radiogroup .nut-radio {\n  margin: 0 0.32rem;\n}",""]),e.exports=t},"234":function(e,t,n){"use strict";n.r(t);var a=n(14),o=n(0),r=Object(a.l)("/元"),c=Object(a.l)("商品图片"),i=Object(a.l)("直接上架"),l=Object(a.l)(Object(o.M)("商品品类")),u=Object(a.l)("确定");var s=n(12),d=n(16),m=n.n(d),p=n(18),f=(n(133),n(214),n(126)),b=n(2),O=n(45),j=n(131),g=n(123),_=n(166),h=n(139),y=n(7),v=n(124),w=Object(a.n)({"components":{"Navbar":f.a,"Input":O.Input,"TimeSelect":O.TimeSelect,"TimePannel":O.TimePannel,"TimeDetail":O.TimeDetail,"Popup":O.Popup,"Upload":_.a,"Icon":O.Icon,"Collapse":O.Collapse,"CollapseItem":O.CollapseItem,"Radio":O.Radio,"RadioGroup":O.RadioGroup},"setup":function setup(){var e,t=Object(a.o)().proxy,n=Object(b.m)(!0),o=Object(b.m)(null),r=j.Router.getData(),c=Object(g.a)(),i=Object(b.k)({"radioVal":"","headerPic":[],"categoryList":[],"isEdit":"edit"===r.type,"params":{"names":"","sell_price":"","packing_fee":"","state":"","category_id":"","goods_id":""}});function _init(){return(_init=Object(p.a)(m.a.mark((function _callee3(){var e;return m.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return i.isEdit&&editEcho(),n.prev=1,Object(y.showLoading)(),n.next=5,Object(v.f)({"merchant_id":c,"page_num":1,"page_size":1e3});case 5:"200"==(e=n.sent).code?i.categoryList=e.list:t.$common.notify(e.msg),Object(y.hideLoading)(),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),t.$common.notify(),Object(y.hideLoading)();case 15:case"end":return n.stop()}}),_callee3,null,[[1,10]])})))).apply(this,arguments)}function editEcho(){var e=r.currentVal,t=e.names,a=e.sell_price,o=e.packing_fee,c=e.state,l=e.category_id,u=e.file_path,s=e.goods_id;i.headerPic=[{"url":u}],n.value="1"==c,i.radioVal=l+"",i.params={"names":t,"sell_price":a,"packing_fee":o,"goods_id":s,"state":"","category_id":""}}!function init(){return _init.apply(this,arguments)}();var l=function(){var t=Object(p.a)(m.a.mark((function _callee(){var t,a,r;return m.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.value.submit({},!0);case 2:for(r in t=l.sent,a=t instanceof FormData?t.getAll("file_path"):[],e=new FormData,a.map((function(t){e.append("file_path",t)})),1==n.value?i.params.state="1":i.params.state="3",i.params.merchant_id=c,i.params.category_id=i.radioVal,i.params)e.append(r,i.params[r]);if(!1!==d(e)){l.next=12;break}return l.abrupt("return");case 12:u(e);case 13:case"end":return l.stop()}}),_callee)})));return function handleSubmit(){return t.apply(this,arguments)}}(),u=function(){var e=Object(p.a)(m.a.mark((function _callee2(e){var n;return m.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,Object(y.showLoading)(),!i.isEdit){a.next=8;break}return a.next=5,h.a.save(e,"/mGoods/updateGoods");case 5:n=a.sent,a.next=11;break;case 8:return a.next=10,h.a.save(e,"/mGoods/addGoods");case 10:n=a.sent;case 11:"200"==n.code?(f(),r.init(),t.$common.notify(i.isEdit?"修改成功":"添加成功"),setTimeout((function(){y.default.navigateBack()}))):t.$common.notify(n.msg),Object(y.hideLoading)(),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0),t.$common.notify(),Object(y.hideLoading)();case 20:case"end":return a.stop()}}),_callee2,null,[[0,15]])})));return function save(t){return e.apply(this,arguments)}}(),d=function verify(e){return e.get("names")?e.get("sell_price")?e.get("packing_fee")?e.get("file_path")&&0!==e.get("file_path").length?!!e.get("category_id")||(t.$common.notify("商品品类不能为空"),!1):(t.$common.notify("商品图片不能为空"),!1):(t.$common.notify("打包费不能为空"),!1):(t.$common.notify("商品售价不能为空"),!1):(t.$common.notify("商品名称不能为空"),!1)},f=function clear(){for(var t in o.value.fileClear(),e.delete("file_path"),i.params)e.delete(t);i.params={"names":"","sell_price":"","packing_fee":"","state":"","category_id":"","goods_id":""}};return Object(s.a)({"checked":n,"active1":function active1(){},"uploadLogoRef":o,"handleSubmit":l},Object(b.r)(i))}}),k=n(120);const x=n.n(k)()(w,[["render",function render(e,t,n,s,d,m){var p=Object(a.G)("Navbar"),f=Object(a.G)("nut-input"),b=Object(a.G)("taro-view"),O=Object(a.G)("Upload"),j=Object(a.G)("nut-switch"),g=Object(a.G)("nut-radio"),_=Object(a.G)("nut-radiogroup"),h=Object(a.G)("nut-collapse-item"),y=Object(a.G)("nut-collapse"),v=Object(a.G)("taro-button");return Object(a.C)(),Object(a.f)(b,{"class":"storeSettings commodityAdd"},{"default":Object(a.O)((function(){return[Object(a.m)(p,{"title":"添加商品","background":"rgba(254, 114, 76, 1)","isIcon":!0}),Object(a.m)(b,{"class":"settingContent"},{"default":Object(a.O)((function(){return[Object(a.m)(b,{"class":"form"},{"default":Object(a.O)((function(){return[Object(a.m)(f,{"modelValue":e.params.names,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.params.names=t}),"label":"商品名称","placeholder":"请输入商品名称"},null,8,["modelValue"])]})),"_":1}),Object(a.m)(b,{"class":"form-address form"},{"default":Object(a.O)((function(){return[Object(a.m)(f,{"modelValue":e.params.sell_price,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.params.sell_price=t}),"label":"商品售价","placeholder":"请输入商品售价","type":"number"},null,8,["modelValue"])]})),"_":1}),Object(a.m)(b,{"class":"form disMoney"},{"default":Object(a.O)((function(){return[Object(a.m)(f,{"modelValue":e.params.packing_fee,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.params.packing_fee=t}),"label":"打包费","placeholder":"请输入打包费","type":"number"},null,8,["modelValue"]),Object(a.m)(b,{"class":"money"},{"default":Object(a.O)((function(){return[r]})),"_":1})]})),"_":1}),Object(a.m)(b,{"class":"logo form-item"},{"default":Object(a.O)((function(){return[Object(a.m)(b,{"class":"left"},{"default":Object(a.O)((function(){return[c]})),"_":1}),Object(a.m)(O,{"ref":"uploadLogoRef","name":"file_path","class":"right","urlList":e.headerPic},null,8,["urlList"])]})),"_":1}),Object(a.m)(b,{"class":"switch form-item"},{"default":Object(a.O)((function(){return[Object(a.m)(b,{"class":"left"},{"default":Object(a.O)((function(){return[i]})),"_":1}),Object(a.m)(b,{"class":"right"},{"default":Object(a.O)((function(){return[Object(a.m)(j,{"modelValue":e.checked,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.checked=t}),"active-color":"rgba(254, 114, 76, 1)"},null,8,["modelValue"])]})),"_":1})]})),"_":1})]})),"_":1}),Object(a.m)(y,{"active":e.active1,"onUpdate:active":t[5]||(t[5]=function(t){return e.active1=t}),"icon":"down-arrow"},{"default":Object(a.O)((function(){return[Object(a.m)(h,{"name":1,"sub-title":"请设置商品所属品类"},{"mTitle":Object(a.O)((function(){return[l]})),"default":Object(a.O)((function(){return[Object(a.m)(_,{"modelValue":e.radioVal,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.radioVal=t}),"direction":"vertical"},{"default":Object(a.O)((function(){return[(Object(a.C)(!0),Object(a.h)(a.b,null,Object(a.E)(e.categoryList,(function(e){return Object(a.C)(),Object(a.f)(g,{"label":e.category_id},{"default":Object(a.O)((function(){return[Object(a.l)(Object(o.M)(e.names),1)]})),"_":2},1032,["label"])})),256))]})),"_":1},8,["modelValue"])]})),"_":1})]})),"_":1},8,["active"]),Object(a.m)(b,{"class":"footer"},{"default":Object(a.O)((function(){return[Object(a.m)(v,{"onTap":e.handleSubmit},{"default":Object(a.O)((function(){return[u]})),"_":1},8,["onTap"])]})),"_":1})]})),"_":1})}]]);t.default=x}}]);